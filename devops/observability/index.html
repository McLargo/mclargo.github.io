<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="Javier Gil">
    <link rel="canonical" href="https://mclargo.github.io/devops/observability/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Observability - My technical wiki</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../assets/css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Observability", url: "#_top", children: [
              {title: "Logging", url: "#logging" },
              {title: "Metrics", url: "#metrics" },
              {title: "Tracing", url: "#tracing" },
              {title: "References", url: "#references" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../serverless/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../serverless/" class="btn btn-xs btn-link">
        Serverless Computing
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../k8s/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../k8s/" class="btn btn-xs btn-link">
        Kubernetes
      </a>
    </div>
    
  </div>

    

    <h1 id="observability">Observability</h1>
<p>Server observability refers to the practice of monitoring and gaining insights
into the performance, health, and behavior of servers and the applications or
services running on them. It is a critical aspect of managing and maintaining
server infrastructure, especially in modern, complex, and distributed computing
environments. Server observability helps organizations detect and diagnose
issues, optimize performance, and ensure the reliability of their IT systems.</p>
<p>Server observability is an essential practice in modern IT operations,
especially for cloud-based and containerized environments, where servers and
services are highly dynamic and interconnected.</p>
<h2 id="logging">Logging</h2>
<p>Collecting and analyzing logs generated by server applications and services.
Logs can provide detailed information about events, errors, and transactions,
helping in troubleshooting and debugging issues. There are different log system
out there, so better approach is to use a tool to standardize the output of the
logs, such as <a href="https://www.fluentd.org/">Fluentd</a>, an Open source data
collector. Logs are collected in a central location, where they can be
displayed. A good tool for this is <a href="https://www.elastic.co/kibana">Kibana</a>, with
<a href="https://www.elastic.co/es/elasticsearch">ElasticSearch</a> for data storage.</p>
<h2 id="metrics">Metrics</h2>
<p>Gathering and analyzing various metrics such as CPU utilization, memory usage,
disk I/O, network traffic, and application-specific performance indicators.
These metrics provide a real-time view of the server's health and performance.
<a href="https://prometheus.io/">Prometheus</a> is an open-source systems monitoring and
alerting toolkit. It comes with a query language built-in, where powerful
queries can be written to gain insight into the system's behavior. Alerts
regarding this metrics can be send to another system like
<a href="https://sentry.io/welcome/">Sentry</a> or <a href="https://www.nagios.org/">Nagios</a>.</p>
<p>For metrics visualization, <a href="https://grafana.com/">Grafana</a> is a good option.</p>
<h3 id="how-to-useanalyze-metrics">How to use/analyze metrics</h3>
<ul>
<li>Don't use averages, use percentiles. Average doesn't show the real picture of
  the system, because it can be skewed by a few outliers. For this reason, we
  use percentiles, like P50, P90, P99, etc. How to get the value, just by
  throwing out the bottom <em>XX</em>% of the points and looking the first point that
  remains.</li>
</ul>
<p>From a list of sorted latency times [20, 37, 45, 62, 850, 920], the average is
  312.3ms. But the <strong>P50 is 62ms</strong> and the <strong>P90 is 920ms</strong>. This means that 50%
  of the requests are below 62ms and 90% of the requests are below 920ms.</p>
<ul>
<li>Set alarms. Manual look to metrics or schedule checks is not enough, specially
  if the system is quite big. You need to be notified when something goes
  wrong.For each metric, you should set a period to measure, a threshold (limit)
  and a grace period (in case error recover by itself) before triggering the
  alarm.</li>
</ul>
<p>You can also set Working Day Alarms, alarms that indicates early warning
  indicators. During a working day, people can look into the issue, but if same
  happens during night or weekend, no need to wake up people (until the alarm is
  critical).</p>
<ul>
<li>
<p>Adapt limits to cycles. It's not the same traffic during the day than during
  the night, or in load peaks (if you are a retailer, during Black Friday you
  should expect a lot of traffic). You should set different threshold for
  different situation (hour, day of the week, season...).</p>
</li>
<li>
<p>Not having metrics is as bad as a bad metric. If you don't have metrics, you
  can't know what is happening in your system. Create alarms to alert if metrics
  are not present.</p>
</li>
<li>
<p>Periodically review your metrics. The system is not static, it changes over
  time. You should review your metrics periodically to ensure they are still
  relevant and useful. If this process can be automated, better.</p>
</li>
</ul>
<h2 id="tracing">Tracing</h2>
<p>Tracing requests as they traverse through various components of a distributed
system. Distributed tracing helps in identifying latency bottlenecks and
understanding the flow of requests in a microservices architecture.</p>
<p><a href="https://www.jaegertracing.io/">Jaeger</a> is an open source end-to-end distributed
system to help tracing request within the system.</p>
<p>To implement server observability effectively, organizations often use
specialized tools and platforms, such as monitoring and observability solutions
like Prometheus, Grafana, Elasticsearch, Kibana, and many others. These tools
help in collecting, storing, analyzing, and visualizing the data needed to
maintain and improve server performance and reliability.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://www.ibm.com/topics/observability">Observability</a></li>
<li><a href="https://medium.com/@djsmith42/how-to-metric-edafaf959fc7">Metric</a></li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../serverless/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../serverless/" class="btn btn-xs btn-link">
        Serverless Computing
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../k8s/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../k8s/" class="btn btn-xs btn-link">
        Kubernetes
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content"><p>Copyright &copy; 2023 <a href="https://github.com/McLargo">Javier Gil</a>.</p>
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>